import{D as v,_ as h,c as r,o as i,a as t,t as m,b as l,d as p,r as f,e as C,f as B,F as A,g as j,h as I,l as _,i as N,j as q,k as E,m as D,n as O,p as M}from"./index.es-C4TXnmf2.js";const F=["id"],L={class:"student-id"},R={class:"student-name"},T={class:"student-status"},V={class:"student-btn"},J={class:"student-del"},P={name:"Student",props:{id:{required:!0,default:9999,type:Number},fname:{required:!1,default:"Joost",type:String},lname:{required:!1,default:"Doe",type:String},active:{required:!0,default:!0,type:Boolean}},components:[v,h]},w=Object.assign(P,{setup(o){const n=c=>{localStorage.setItem("student",c),window.location.href=`/manage/${c}`};return(c,e)=>(i(),r("div",{id:`row-${o.id}`,class:"student-row"},[t("span",L,m(o.id),1),t("span",R,m(o.fname)+" "+m(o.lname),1),t("span",T,m(o.active==="true"?"Active":"Inactive"),1),t("span",V,[l(h,{onClicked:e[0]||(e[0]=a=>n(o.id))})]),t("span",J,[l(v)])],8,F))}}),U={name:"RateMenu"},z={id:"rate-menu"};function G(o,n,c,e,a,u){return i(),r("div",z,n[0]||(n[0]=[t("h5",null,"Default Rate: $",-1),t("input",{type:"text",value:"65.00"},null,-1),t("h5",null,"per hour",-1)]))}const g=p(U,[["render",G]]),H={name:"AddStudent",methods:{onClick(){console.log("CLick it or TIcket")}}};function K(o,n,c,e,a,u){const d=f("font-awesome-icon");return i(),r("button",{class:"btn btn-add",onClick:n[0]||(n[0]=(...s)=>u.onClick&&u.onClick(...s))},[l(d,{icon:"plus"})])}const S=p(H,[["render",K]]),Q={name:"CancelButton"},W={class:"btn btn-del"};function X(o,n,c,e,a,u){const d=f("font-awesome-icon");return i(),r("button",W,[l(d,{icon:"minus"})])}const y=p(Q,[["render",X]]),Y={name:"SaveButton",methods:{onClick(){console.log("Saved")}}},k=Object.assign(Y,{emits:"saved",setup(o,{emit:n}){const c=n;return(e,a)=>{const u=f("font-awesome-icon");return i(),r("button",{class:"btn btn-save",onClick:a[0]||(a[0]=d=>c("saved"))},[l(u,{icon:"plus"})])}}}),Z={class:"student-row"},tt={class:"student-btn"},et={class:"student-del"},nt={name:"NewStudent",components:{SaveButton:k,CancelButton:y}},x=Object.assign(nt,{emits:["cancelled"],setup(o,{emit:n}){const c=n,e=()=>{const d=document.querySelectorAll(".btn-save");for(let s=0;s<d.length;s++)d[s].setAttribute("disabled","disabled")},a=()=>{const d=document.querySelectorAll(".btn-save");for(let s=0;s<d.length;s++)d[s].removeAttribute("disabled")},u=async()=>{e();const d=document.getElementById("new_student_fname").value,s=document.getElementById("new_student_lname").value,b=document.getElementById("new_student_active").checked;try{(await(await fetch("/api/students/add",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({fname:d,lname:s,active:b})})).json()).error!==!0?window.location.reload():(window.alert("Error, please try again"),a())}catch($){console.log($)}};return(d,s)=>(i(),r("div",Z,[s[1]||(s[1]=C('<span class="student-id"></span><span class="student-name"><input id="new_student_fname" type="text" name="fname">Â <input id="new_student_lname" type="text" name="lname"></span><span class="student-status"><input id="new_student_active" type="checkbox" checked><label for="new_student_active">Active?</label></span>',3)),t("span",tt,[l(k,{onSaved:u})]),t("span",et,[l(y,{onClick:s[0]||(s[0]=b=>c("cancelled"))})])]))}}),st={id:"main"},at={class:"tile"},ot={id:"student-table"},dt={class:"table-header"},ct={class:"table-text student-btn-header"},lt={class:"row-container"},it={name:"app",components:{Student:w,RateMenu:g,AddStudent:S,NewStudent:x},async mounted(){this.getStudents()},methods:{async getStudents(){const n=await(await fetch("/api/students/read")).json();console.log(n),this.Students=n.data}},data(){return{Students:[]}}},ut=Object.assign(it,{setup(o){const n=()=>{document.getElementById("new-student-menu").classList.toggle("hidden")};return(c,e)=>(i(),r("main",st,[t("div",at,[t("header",null,[e[0]||(e[0]=t("span",{class:"header-left"},[t("a",{class:"screen-reader-only"},"Skip to Content")],-1)),e[1]||(e[1]=t("h3",null,"Student Management System",-1)),l(B)]),t("div",ot,[t("div",dt,[e[2]||(e[2]=t("span",{class:"table-text student-id-header"},null,-1)),e[3]||(e[3]=t("span",{class:"table-text student-name-header"},"Student",-1)),e[4]||(e[4]=t("span",{class:"table-text student-status"},"All",-1)),e[5]||(e[5]=t("span",{class:"table-text student-del-header"},null,-1)),t("span",ct,[l(S,{onClick:n})])]),t("div",lt,[l(x,{id:"new-student-menu",class:"hidden",onCancelled:n}),(i(!0),r(A,null,j(c.Students,a=>(i(),I(w,{key:a.id_short,id:a.id_short,fname:a.fname,lname:a.lname,active:a.active?"true":"false"},null,8,["id","fname","lname","active"]))),128))])]),l(g)])]))}});_.add(N);_.add(q);_.add(E);_.add(D);O(ut).component("font-awesome-icon",M).mount("#app");
