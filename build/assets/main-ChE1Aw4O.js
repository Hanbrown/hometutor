import{D as p,_ as w,c as r,o as c,a as e,t as m,b as i,d as f,r as b,e as x,f as B,F as A,g as j,h as I,l as _,i as N,j as q,k as D,m as E,n as O,p as M}from"./index.es-BkDqJwlU.js";const F=["id"],L={class:"row-top"},R={class:"student-id"},T={class:"student-name"},V={class:"student-status"},J={class:"student-btn"},P={class:"student-del"},U=["id"],Y={name:"Student",props:{id:{required:!0,default:9999,type:Number},fname:{required:!1,default:"Joost",type:String},lname:{required:!1,default:"Doe",type:String},active:{required:!0,default:!0,type:Boolean}},components:[p,w]},h=Object.assign(Y,{setup(a){const n=l=>{localStorage.setItem("student",l),window.location.href=`/manage/${l}`};return(l,t)=>(c(),r("div",{id:`row-${a.id}`,class:"student-row"},[e("div",L,[e("span",R,m(a.id),1),e("span",T,m(a.fname)+" "+m(a.lname),1),e("span",V,m(a.active==="true"?"Active":"Inactive"),1),e("span",J,[i(w,{onClicked:t[0]||(t[0]=o=>n(a.id))})]),e("span",P,[i(p)])]),e("div",{id:`delete-conf-${a.id}`,class:"row-bottom hidden"},[t[2]||(t[2]=e("h5",null,"Delete this student?",-1)),t[3]||(t[3]=e("p",null,"You cannot undo this action, and all this student's classes will also be deleted!",-1)),i(p,{onClick:t[1]||(t[1]=()=>{})})],8,U)],8,F))}}),z={name:"RateMenu"},G={id:"rate-menu"};function H(a,n,l,t,o,u){return c(),r("div",G,n[0]||(n[0]=[e("h5",null,"Default Rate: $",-1),e("input",{type:"text",value:"65.00"},null,-1),e("h5",null,"per hour",-1)]))}const S=f(z,[["render",H]]),K={name:"AddStudent",methods:{onClick(){console.log("CLick it or TIcket")}}};function Q(a,n,l,t,o,u){const d=b("font-awesome-icon");return c(),r("button",{class:"btn btn-add",onClick:n[0]||(n[0]=(...s)=>u.onClick&&u.onClick(...s))},[i(d,{icon:"plus"})])}const g=f(K,[["render",Q]]),W={name:"CancelButton"},X={class:"btn btn-del"};function Z(a,n,l,t,o,u){const d=b("font-awesome-icon");return c(),r("button",X,[i(d,{icon:"minus"})])}const y=f(W,[["render",Z]]),tt={name:"SaveButton",methods:{onClick(){console.log("Saved")}}},k=Object.assign(tt,{emits:"saved",setup(a,{emit:n}){const l=n;return(t,o)=>{const u=b("font-awesome-icon");return c(),r("button",{class:"btn btn-save",onClick:o[0]||(o[0]=d=>l("saved"))},[i(u,{icon:"plus"})])}}}),et={class:"student-row"},nt={class:"student-btn"},st={class:"student-del"},at={name:"NewStudent",components:{SaveButton:k,CancelButton:y}},C=Object.assign(at,{emits:["cancelled"],setup(a,{emit:n}){const l=n,t=()=>{const d=document.querySelectorAll(".btn-save");for(let s=0;s<d.length;s++)d[s].setAttribute("disabled","disabled")},o=()=>{const d=document.querySelectorAll(".btn-save");for(let s=0;s<d.length;s++)d[s].removeAttribute("disabled")},u=async()=>{t();const d=document.getElementById("new_student_fname").value,s=document.getElementById("new_student_lname").value,v=document.getElementById("new_student_active").checked;try{(await(await fetch("http://localhost:8081/api/students/add",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({fname:d,lname:s,active:v})})).json()).error!==!0?window.location.reload():(window.alert("Error, please try again"),o())}catch($){console.log($)}};return(d,s)=>(c(),r("div",et,[s[1]||(s[1]=x('<span class="student-id"></span><span class="student-name"><input id="new_student_fname" type="text" name="fname">Â <input id="new_student_lname" type="text" name="lname"></span><span class="student-status"><input id="new_student_active" type="checkbox" checked><label for="new_student_active">Active?</label></span>',3)),e("span",nt,[i(k,{onSaved:u})]),e("span",st,[i(y,{onClick:s[0]||(s[0]=v=>l("cancelled"))})])]))}}),ot={id:"main"},dt={class:"tile"},lt={id:"student-table"},it={class:"table-header"},ct={class:"table-text student-btn-header"},ut={class:"row-container"},rt={name:"app",components:{Student:h,RateMenu:S,AddStudent:g,NewStudent:C},async mounted(){this.getStudents()},methods:{async getStudents(){const n=await(await fetch("http://localhost:8081/api/students/read")).json();this.Students=n.data}},data(){return{Students:[]}}},mt=Object.assign(rt,{setup(a){const n=()=>{document.getElementById("new-student-menu").classList.toggle("hidden")};return(l,t)=>(c(),r("main",ot,[e("div",dt,[e("header",null,[t[0]||(t[0]=e("span",{class:"header-left"},[e("a",{class:"screen-reader-only"},"Skip to Content")],-1)),t[1]||(t[1]=e("h3",null,"Student Management System",-1)),i(B)]),e("div",lt,[e("div",it,[t[2]||(t[2]=e("span",{class:"table-text student-id-header"},null,-1)),t[3]||(t[3]=e("span",{class:"table-text student-name-header"},"Student",-1)),t[4]||(t[4]=e("span",{class:"table-text student-status"},"All",-1)),t[5]||(t[5]=e("span",{class:"table-text student-del-header"},null,-1)),e("span",ct,[i(g,{onClick:n})])]),e("div",ut,[i(C,{id:"new-student-menu",class:"hidden",onCancelled:n}),(c(!0),r(A,null,j(l.Students,o=>(c(),I(h,{key:o.id_short,id:o.id_short,fname:o.fname,lname:o.lname,active:o.active?"true":"false"},null,8,["id","fname","lname","active"]))),128))])]),i(S)])]))}});_.add(N);_.add(q);_.add(D);_.add(E);O(mt).component("font-awesome-icon",M).mount("#app");
