import{_ as p,a as h,c as u,o as i,b as e,t as m,d as l,e as B,f,r as w,g as x,h as j,F as A,i as N,j as E,l as _,k as I,m as q,n as O,p as D,q as F,s as L}from"./index.es-C-qeWOLg.js";const M=["id"],V={class:"row-top"},R={class:"student-id"},T={class:"student-name"},J={class:"student-status"},P={class:"student-btn"},U={class:"student-del"},Y=["id"],z={name:"Student",props:{id:{required:!0,default:9999,type:Number},fname:{required:!1,default:"Joost",type:String},lname:{required:!1,default:"Doe",type:String},active:{required:!0,default:!0,type:Boolean}},components:[p,h],methods:{confirm_delete(){document.getElementById(`delete-conf-${this.id}`).classList.toggle("hidden")},async do_delete(){const n=await(await fetch(`/api/students/delete/${this.id}`,{method:"delete"})).json();n.error?console.error(n.msg):window.location.reload()}}},v=Object.assign(z,{setup(s){const n=t=>{localStorage.setItem("student",t),window.location.href=`/manage/${t}`};return(t,a)=>(i(),u("div",{id:`row-${s.id}`,class:"student-row"},[e("div",V,[e("span",R,m(s.id),1),e("span",T,m(s.fname)+" "+m(s.lname),1),e("span",J,m(s.active==="true"?"Active":"Inactive"),1),e("span",P,[l(h,{onClicked:a[0]||(a[0]=c=>n(s.id))})]),e("span",U,[l(p,{onClicked:t.confirm_delete},null,8,["onClicked"])])]),e("div",{id:`delete-conf-${s.id}`,class:"row-bottom row-del hidden"},[e("h5",null,"Delete entry for "+m(s.fname)+" "+m(s.lname)+"?",1),e("p",null,[a[1]||(a[1]=B("You cannot undo this action, ")),e("strong",null,"and all of "+m(s.fname)+"'s classes will also be deleted!",1)]),l(p,{onClicked:t.do_delete,long:!0},null,8,["onClicked"])],8,Y)],8,M))}}),G={name:"RateMenu"},H={id:"rate-menu"};function K(s,n,t,a,c,r){return i(),u("div",H,n[0]||(n[0]=[e("h5",null,"Default Rate: $",-1),e("input",{type:"text",value:"65.00"},null,-1),e("h5",null,"per hour",-1)]))}const g=f(G,[["render",K]]),Q={name:"AddStudent",methods:{onClick(){}}};function W(s,n,t,a,c,r){const d=w("font-awesome-icon");return i(),u("button",{class:"btn btn-add",onClick:n[0]||(n[0]=(...o)=>r.onClick&&r.onClick(...o))},[l(d,{icon:"plus"})])}const y=f(Q,[["render",W]]),X={name:"CancelButton"},Z={class:"btn btn-del"};function ee(s,n,t,a,c,r){const d=w("font-awesome-icon");return i(),u("button",Z,[l(d,{icon:"minus"})])}const S=f(X,[["render",ee]]),te={name:"SaveButton",methods:{onClick(){console.log("Saved")}}},k=Object.assign(te,{emits:"saved",setup(s,{emit:n}){const t=n;return(a,c)=>{const r=w("font-awesome-icon");return i(),u("button",{class:"btn btn-save",onClick:c[0]||(c[0]=d=>t("saved"))},[l(r,{icon:"plus"})])}}}),ne={class:"student-row add-menu"},se={class:"student-btn"},ae={class:"student-del"},oe={name:"NewStudent",components:{SaveButton:k,CancelButton:S}},C=Object.assign(oe,{emits:["cancelled"],setup(s,{emit:n}){const t=n,a=()=>{const d=document.querySelectorAll(".btn-save");for(let o=0;o<d.length;o++)d[o].setAttribute("disabled","disabled")},c=()=>{const d=document.querySelectorAll(".btn-save");for(let o=0;o<d.length;o++)d[o].removeAttribute("disabled")},r=async()=>{a();const d=document.getElementById("new_student_fname").value,o=document.getElementById("new_student_lname").value,$=document.getElementById("new_student_active").checked;try{(await(await fetch("/api/students/add",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({fname:d,lname:o,active:$})})).json()).error!==!0?window.location.reload():(window.alert("Error, please try again"),c())}catch(b){console.log(b)}};return(d,o)=>(i(),u("div",ne,[o[1]||(o[1]=x('<span class="student-id"></span><span class="student-name"><input id="new_student_fname" type="text" name="fname" placeholder="First Name">Â <input id="new_student_lname" type="text" name="lname" placeholder="Last Name"></span><span class="student-status"><input id="new_student_active" type="checkbox" checked><label for="new_student_active">Active?</label></span>',3)),e("span",se,[l(k,{onSaved:r})]),e("span",ae,[l(S,{onClick:o[0]||(o[0]=$=>t("cancelled"))})])]))}}),de={id:"main"},le={class:"tile"},ie={id:"student-table"},ce={class:"table-header"},re={class:"table-text student-btn-header"},ue={class:"row-container"},me={name:"app",components:{Student:v,RateMenu:g,AddStudent:y,NewStudent:C},async mounted(){this.getStudents()},methods:{async getStudents(){const n=await(await fetch("/api/students/read")).json();n.error?console.log("Error"):this.Students=n.data},toggle_new_student(){document.getElementById("new-student-menu").classList.toggle("hidden")}},data(){return{Students:[]}}},_e=Object.assign(me,{setup(s){return(n,t)=>(i(),u("main",de,[e("div",le,[e("header",null,[t[0]||(t[0]=e("span",{class:"header-left"},[e("a",{class:"screen-reader-only"},"Skip to Content")],-1)),t[1]||(t[1]=e("h3",null,"Student Management System",-1)),l(j)]),e("div",ie,[e("div",ce,[t[2]||(t[2]=e("span",{class:"table-text student-id-header"},null,-1)),t[3]||(t[3]=e("span",{class:"table-text student-name-header"},"Student",-1)),t[4]||(t[4]=e("span",{class:"table-text student-status"},"All",-1)),t[5]||(t[5]=e("span",{class:"table-text student-del-header"},null,-1)),e("span",re,[l(y,{onClick:n.toggle_new_student},null,8,["onClick"])])]),e("div",ue,[l(C,{id:"new-student-menu",class:"hidden",onCancelled:n.toggle_new_student},null,8,["onCancelled"]),(i(!0),u(A,null,N(n.Students,a=>(i(),E(v,{key:a.id_short,id:a.id_short,fname:a.fname,lname:a.lname,active:a.active?"true":"false"},null,8,["id","fname","lname","active"]))),128))])]),l(g)])]))}});_.add(I);_.add(q);_.add(O);_.add(D);F(_e).component("font-awesome-icon",L).mount("#app");
