import{_ as p,a as v,c as r,o as c,b as e,t as m,d as i,e as x,f,r as h,g as B,h as A,F as j,i as N,j as I,l as _,k as q,m as E,n as O,p as D,q as F,s as L}from"./index.es-Bn8DZCjI.js";const M=["id"],V={class:"row-top"},R={class:"student-id"},T={class:"student-name"},J={class:"student-status"},P={class:"student-btn"},U={class:"student-del"},Y=["id"],z={name:"Student",props:{id:{required:!0,default:9999,type:Number},fname:{required:!1,default:"Joost",type:String},lname:{required:!1,default:"Doe",type:String},active:{required:!0,default:!0,type:Boolean}},components:[p,v],methods:{confirm_delete(){document.getElementById(`delete-conf-${this.id}`).classList.toggle("hidden")},async do_delete(){await fetch(`/api/students/delete/${this.id}`,{method:"delete"}),window.location.reload()}}},w=Object.assign(z,{setup(n){const s=o=>{localStorage.setItem("student",o),window.location.href=`/manage/${o}`};return(o,t)=>(c(),r("div",{id:`row-${n.id}`,class:"student-row"},[e("div",V,[e("span",R,m(n.id),1),e("span",T,m(n.fname)+" "+m(n.lname),1),e("span",J,m(n.active==="true"?"Active":"Inactive"),1),e("span",P,[i(v,{onClicked:t[0]||(t[0]=d=>s(n.id))})]),e("span",U,[i(p,{onClicked:o.confirm_delete},null,8,["onClicked"])])]),e("div",{id:`delete-conf-${n.id}`,class:"row-bottom row-del hidden"},[e("h5",null,"Delete entry for "+m(n.fname)+" "+m(n.lname)+"?",1),e("p",null,[t[1]||(t[1]=x("You cannot undo this action, ")),e("strong",null,"and all of "+m(n.fname)+"'s classes will also be deleted!",1)]),i(p,{onClicked:o.do_delete,long:!0},null,8,["onClicked"])],8,Y)],8,M))}}),G={name:"RateMenu"},H={id:"rate-menu"};function K(n,s,o,t,d,u){return c(),r("div",H,s[0]||(s[0]=[e("h5",null,"Default Rate: $",-1),e("input",{type:"text",value:"65.00"},null,-1),e("h5",null,"per hour",-1)]))}const g=f(G,[["render",K]]),Q={name:"AddStudent",methods:{onClick(){}}};function W(n,s,o,t,d,u){const l=h("font-awesome-icon");return c(),r("button",{class:"btn btn-add",onClick:s[0]||(s[0]=(...a)=>u.onClick&&u.onClick(...a))},[i(l,{icon:"plus"})])}const y=f(Q,[["render",W]]),X={name:"CancelButton"},Z={class:"btn btn-del"};function ee(n,s,o,t,d,u){const l=h("font-awesome-icon");return c(),r("button",Z,[i(l,{icon:"minus"})])}const S=f(X,[["render",ee]]),te={name:"SaveButton",methods:{onClick(){console.log("Saved")}}},k=Object.assign(te,{emits:"saved",setup(n,{emit:s}){const o=s;return(t,d)=>{const u=h("font-awesome-icon");return c(),r("button",{class:"btn btn-save",onClick:d[0]||(d[0]=l=>o("saved"))},[i(u,{icon:"plus"})])}}}),ne={class:"student-row add-menu"},se={class:"student-btn"},ae={class:"student-del"},oe={name:"NewStudent",components:{SaveButton:k,CancelButton:S}},C=Object.assign(oe,{emits:["cancelled"],setup(n,{emit:s}){const o=s,t=()=>{const l=document.querySelectorAll(".btn-save");for(let a=0;a<l.length;a++)l[a].setAttribute("disabled","disabled")},d=()=>{const l=document.querySelectorAll(".btn-save");for(let a=0;a<l.length;a++)l[a].removeAttribute("disabled")},u=async()=>{t();const l=document.getElementById("new_student_fname").value,a=document.getElementById("new_student_lname").value,$=document.getElementById("new_student_active").checked;try{(await(await fetch("/api/students/add",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({fname:l,lname:a,active:$})})).json()).error!==!0?window.location.reload():(window.alert("Error, please try again"),d())}catch(b){console.log(b)}};return(l,a)=>(c(),r("div",ne,[a[1]||(a[1]=B('<span class="student-id"></span><span class="student-name"><input id="new_student_fname" type="text" name="fname" placeholder="First Name">Â <input id="new_student_lname" type="text" name="lname" placeholder="Last Name"></span><span class="student-status"><input id="new_student_active" type="checkbox" checked><label for="new_student_active">Active?</label></span>',3)),e("span",se,[i(k,{onSaved:u})]),e("span",ae,[i(S,{onClick:a[0]||(a[0]=$=>o("cancelled"))})])]))}}),de={id:"main"},le={class:"tile"},ie={id:"student-table"},ce={class:"table-header"},ue={class:"table-text student-btn-header"},re={class:"row-container"},me={name:"app",components:{Student:w,RateMenu:g,AddStudent:y,NewStudent:C},async mounted(){this.getStudents()},methods:{async getStudents(){const s=await(await fetch("/api/students/read")).json();this.Students=s.data}},data(){return{Students:[]}}},_e=Object.assign(me,{setup(n){const s=()=>{document.getElementById("new-student-menu").classList.toggle("hidden")};return(o,t)=>(c(),r("main",de,[e("div",le,[e("header",null,[t[0]||(t[0]=e("span",{class:"header-left"},[e("a",{class:"screen-reader-only"},"Skip to Content")],-1)),t[1]||(t[1]=e("h3",null,"Student Management System",-1)),i(A)]),e("div",ie,[e("div",ce,[t[2]||(t[2]=e("span",{class:"table-text student-id-header"},null,-1)),t[3]||(t[3]=e("span",{class:"table-text student-name-header"},"Student",-1)),t[4]||(t[4]=e("span",{class:"table-text student-status"},"All",-1)),t[5]||(t[5]=e("span",{class:"table-text student-del-header"},null,-1)),e("span",ue,[i(y,{onClick:s})])]),e("div",re,[i(C,{id:"new-student-menu",class:"hidden",onCancelled:s}),(c(!0),r(j,null,N(o.Students,d=>(c(),I(w,{key:d.id_short,id:d.id_short,fname:d.fname,lname:d.lname,active:d.active?"true":"false"},null,8,["id","fname","lname","active"]))),128))])]),i(g)])]))}});_.add(q);_.add(E);_.add(O);_.add(D);F(_e).component("font-awesome-icon",L).mount("#app");
